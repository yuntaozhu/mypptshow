<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iron Pascal WOD - 1920x1080</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Black+Ops+One&family=Noto+Sans+SC:wght@400;700&display=swap');

        :root {
            --bg-color: #121212;
            --hex-bg: #1e1e1e;
            --hex-border: #333;
            --text-main: #ffffff;
            --text-sub: #aaaaaa;
            
            /* Intensity Colors */
            --color-barbell: #3b82f6; /* Blue - Tech Barbell */
            --color-gym: #eab308;     /* Yellow - Gymnastics/Body */
            --color-metcon: #f97316;  /* Orange - Cardio */
            --color-boss: #ef4444;    /* Red - Thruster */
        }

        body {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Noto Sans SC', sans-serif;
            overflow: hidden; /* Prevent scroll for fixed display */
            display: flex;
            flex-direction: column;
        }

        /* Header Section */
        header {
            height: 120px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 60px;
            border-bottom: 2px solid #333;
            background: linear-gradient(to bottom, #1a1a1a, #121212);
        }

        .title-box h1 {
            font-family: 'Black Ops One', cursive;
            font-size: 3.5rem;
            margin: 0;
            letter-spacing: 4px;
            color: var(--text-main);
            text-transform: uppercase;
        }

        .title-box span {
            color: var(--color-boss);
        }

        .info-box {
            text-align: right;
        }

        .info-box .rx {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--color-barbell);
        }

        .info-box .sub {
            font-size: 1rem;
            color: var(--text-sub);
        }

        /* Main SVG Container */
        #visualization {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            position: relative;
        }

        svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 0 20px rgba(0,0,0,0.5));
        }

        /* Node Styling */
        .node-shape {
            stroke: rgba(255,255,255,0.1);
            stroke-width: 1px;
            transition: all 0.3s ease;
        }

        .node-group:hover .node-shape {
            stroke: #fff;
            stroke-width: 3px;
            filter: brightness(1.3);
        }

        .text-abbr {
            font-family: 'Black Ops One', cursive;
            font-size: 22px;
            fill: #fff;
            text-anchor: middle;
            pointer-events: none;
        }

        .text-cn {
            font-size: 12px;
            fill: rgba(255,255,255,0.9);
            font-weight: bold;
            text-anchor: middle;
            pointer-events: none;
        }

        .text-count {
            font-size: 10px;
            fill: rgba(255,255,255,0.4);
            text-anchor: middle;
            pointer-events: none;
        }

        /* Legend at bottom */
        .legend {
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
            background: #0f0f0f;
            border-top: 1px solid #333;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 1rem;
            color: var(--text-sub);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .dot {
            width: 14px;
            height: 14px;
            margin-right: 10px;
            border-radius: 2px;
            transform: rotate(45deg);
        }

    </style>
</head>
<body>

    <header>
        <div class="title-box">
            <h1>Iron <span>Pascal</span></h1>
        </div>
        <div class="info-box">
            <div class="rx">Rx: 40kg / 25kg</div>
            <div class="sub">Barbell Focused • 7 Rounds • For Time</div>
        </div>
    </header>

    <div id="visualization">
        <!-- SVG injected here -->
    </div>

    <div class="legend">
        <div class="legend-item"><div class="dot" style="background: var(--color-barbell)"></div>Barbell (杠铃)</div>
        <div class="legend-item"><div class="dot" style="background: var(--color-gym)"></div>Gymnastics/Core (体操/核心)</div>
        <div class="legend-item"><div class="dot" style="background: var(--color-metcon)"></div>MetCon (代谢)</div>
        <div class="legend-item"><div class="dot" style="background: var(--color-boss)"></div>The Boss (痛苦之王)</div>
    </div>

<script>
    // 1920x1080 Optimization
    const WIDTH = 1920;
    const HEIGHT = 900; // Height excluding header/footer
    const ROWS = 7;

    // Movement Data derived from Board + Logic
    const movementMap = {
        1:  { abbr: "DL", cn: "硬拉", type: "barbell" },
        2:  { abbr: "PP", cn: "借力推", type: "barbell" },
        3:  { abbr: "FS", cn: "前蹲", type: "barbell" },
        4:  { abbr: "HPC", cn: "膝上高翻", type: "barbell" },
        5:  { abbr: "V-UP", cn: "两头起", type: "gym" },
        6:  { abbr: "BoB", cn: "过杆波比", type: "metcon" }, // Burpee Over Bar
        10: { abbr: "PULL", cn: "引体向上", type: "gym" },
        15: { abbr: "PUSH", cn: "俯卧撑", type: "gym" },
        20: { abbr: "THRUSTER", cn: "火箭推", type: "boss" }
    };

    function getColor(type) {
        const colors = {
            'barbell': '#3b82f6',
            'gym': '#eab308',
            'metcon': '#f97316',
            'boss': '#ef4444'
        };
        return colors[type] || '#444';
    }

    // Pascal Logic
    function generatePascalTriangle(n) {
        let triangle = [];
        for (let i = 0; i < n; i++) {
            triangle[i] = new Array(i + 1);
            triangle[i][0] = 1;
            triangle[i][i] = 1;
            for (let j = 1; j < i; j++) {
                triangle[i][j] = triangle[i-1][j-1] + triangle[i-1][j];
            }
        }
        return triangle;
    }

    function render() {
        const container = document.getElementById('visualization');
        const svgNS = "http://www.w3.org/2000/svg";
        const svg = document.createElementNS(svgNS, "svg");
        svg.setAttribute("viewBox", `0 0 ${WIDTH} ${HEIGHT}`);
        
        const triangle = generatePascalTriangle(ROWS);
        
        // Layout calculations for Wide Screen
        const startY = 80;
        const ySpacing = 110; // Vertical distance between rows
        const nodeWidth = 130; // Width of the shape
        const nodeHeight = 80;  // Height of the shape
        
        triangle.forEach((row, rowIndex) => {
            const rowLen = row.length;
            // Calculate total width of this row to center it
            const totalRowWidth = rowLen * (nodeWidth + 20) - 20; 
            const startX = (WIDTH - totalRowWidth) / 2;

            row.forEach((val, colIndex) => {
                const data = movementMap[val] || { abbr: "REST", cn: "休息", type: "gym" };
                
                const x = startX + colIndex * (nodeWidth + 20);
                const y = startY + rowIndex * ySpacing;
                
                const g = document.createElementNS(svgNS, "g");
                g.setAttribute("class", "node-group");
                g.style.transformBox = "fill-box";
                g.style.transformOrigin = "center";

                // Draw Diamond/Rhombus Shape for Tech feel
                const shape = document.createElementNS(svgNS, "polygon");
                // Creating a cut-corner rectangle (techno shape)
                const points = `
                    ${x + 10},${y} 
                    ${x + nodeWidth - 10},${y} 
                    ${x + nodeWidth},${y + 10} 
                    ${x + nodeWidth},${y + nodeHeight - 10} 
                    ${x + nodeWidth - 10},${y + nodeHeight} 
                    ${x + 10},${y + nodeHeight} 
                    ${x},${y + nodeHeight - 10} 
                    ${x},${y + 10}
                `;
                
                shape.setAttribute("points", points);
                shape.setAttribute("fill", getColor(data.type));
                shape.setAttribute("class", "node-shape");
                // Slight opacity to blend with dark bg
                shape.setAttribute("fill-opacity", "0.85"); 

                // Number Label (Top Left corner)
                const countText = document.createElementNS(svgNS, "text");
                countText.setAttribute("x", x + nodeWidth/2);
                countText.setAttribute("y", y + 15);
                countText.setAttribute("class", "text-count");
                countText.textContent = val;

                // Abbr Text
                const abbrText = document.createElementNS(svgNS, "text");
                abbrText.setAttribute("x", x + nodeWidth/2);
                abbrText.setAttribute("y", y + 48);
                abbrText.setAttribute("class", "text-abbr");
                abbrText.textContent = data.abbr;

                // CN Text
                const cnText = document.createElementNS(svgNS, "text");
                cnText.setAttribute("x", x + nodeWidth/2);
                cnText.setAttribute("y", y + 68);
                cnText.setAttribute("class", "text-cn");
                cnText.textContent = data.cn;

                g.appendChild(shape);
                g.appendChild(countText);
                g.appendChild(abbrText);
                g.appendChild(cnText);
                svg.appendChild(g);
            });
        });

        container.appendChild(svg);
    }

    render();
</script>
</body>
</html>
